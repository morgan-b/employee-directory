{"ast":null,"code":"import _classCallCheck from\"/Users/morganbailey/employee-directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/morganbailey/employee-directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/morganbailey/employee-directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/morganbailey/employee-directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import API from\"../utils/API\";import Container from\"../components/Container\";import SearchForm from\"../components/SearchForm\";import SearchResults from\"../components/SearchResults\";import TableHeader from\"../components/TableHeader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var sortTypes={up:{class:\"sort-up\",fn:function fn(a,b){return a.name.first>b.name.first?1:-1;}},down:{class:\"sort-down\",fn:function fn(a,b){return a.name.first<b.name.first?1:-1;}},default:{class:\"sort\",fn:function fn(a,b){return a.name.first>b.name.first?1:-1;}}};var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={search:\"\",results:[],error:\"\",currentSort:\"default\"};_this.handleInputChange=function(event){event.preventDefault();_this.setState({search:event.target.value});};_this.handleFormSubmit=function(event){event.preventDefault();};_this.onSortChange=function(){var currentSort=_this.state.currentSort;var nextSort;if(currentSort===\"down\")nextSort=\"up\";else if(currentSort===\"up\")nextSort=\"default\";else if(currentSort===\"default\")nextSort=\"down\";_this.setState({currentSort:nextSort});};return _this;}_createClass(Search,[{key:\"componentDidMount\",value://   When the component mounts, get a list of employees\nfunction componentDidMount(){var _this2=this;API.getEmployees().then(function(res){return _this2.setState({results:res.data.results});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this3=this;var currentSort=this.state.currentSort;console.log(this.state.results);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Employee Directory\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-center\",children:\"Click on the carrot to sort by First Name or search by first or last name to narrow results.\"})]}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(SearchForm,{search:this.state.search,handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-responsive-xl\",children:[/*#__PURE__*/_jsx(TableHeader,{onClick:this.onSortChange}),this.state.results.filter(function(results){if(!_this3.state.search){return results;}else if(results.name.first.toLowerCase().includes(_this3.state.search.toLocaleLowerCase())||results.name.last.toLowerCase().includes(_this3.state.search.toLocaleLowerCase()))return results;}).sort(sortTypes[currentSort].fn).map(function(result){return/*#__PURE__*/_jsx(SearchResults,{first:result.name.first,last:result.name.last,email:result.email,image:result.picture.large,phone:result.cell,dob:result.dob.date.slice(0,10)},result.login.uuid);})]})})]});}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/Users/morganbailey/employee-directory/src/pages/Search.js"],"names":["React","Component","API","Container","SearchForm","SearchResults","TableHeader","sortTypes","up","class","fn","a","b","name","first","down","default","Search","state","search","results","error","currentSort","handleInputChange","event","preventDefault","setState","target","value","handleFormSubmit","onSortChange","nextSort","getEmployees","then","res","data","catch","err","console","log","filter","toLowerCase","includes","toLocaleLowerCase","last","sort","map","result","email","picture","large","cell","dob","date","slice","login","uuid"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport Container from \"../components/Container\";\nimport SearchForm from \"../components/SearchForm\";\nimport SearchResults from \"../components/SearchResults\";\n\nimport TableHeader from \"../components/TableHeader\";\n\nconst sortTypes = {\n  up: {\n    class: \"sort-up\",\n    fn: (a, b) => (a.name.first > b.name.first ? 1 : -1),\n  },\n  down: {\n    class: \"sort-down\",\n    fn: (a, b) => (a.name.first < b.name.first ? 1 : -1),\n  },\n  default: {\n    class: \"sort\",\n    fn: (a, b) => (a.name.first > b.name.first ? 1 : -1),\n  },\n};\nclass Search extends Component {\n  state = {\n    search: \"\",\n    results: [],\n    error: \"\",\n    currentSort: \"default\",\n  };\n\n  //   When the component mounts, get a list of employees\n  componentDidMount() {\n    API.getEmployees()\n      .then((res) => this.setState({ results: res.data.results }))\n      .catch((err) => console.log(err));\n  }\n\n  handleInputChange = (event) => {\n    event.preventDefault();\n\n    this.setState({ search: event.target.value });\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n  };\n\n  onSortChange = () => {\n    const { currentSort } = this.state;\n    let nextSort;\n\n    if (currentSort === \"down\") nextSort = \"up\";\n    else if (currentSort === \"up\") nextSort = \"default\";\n    else if (currentSort === \"default\") nextSort = \"down\";\n\n    this.setState({\n      currentSort: nextSort,\n    });\n  };\n  render() {\n    const { currentSort } = this.state;\n\n    console.log(this.state.results);\n    return (\n      <div>\n        \n            <div className=\"heading\">\n          <h1 className=\"text-center\">Employee Directory</h1>\n          <h5 className=\"text-center\">Click on the carrot to sort by First Name or search by first or last name to narrow results.</h5>\n          </div>\n          <Container>\n\n          <SearchForm\n            search={this.state.search}\n            handleInputChange={this.handleInputChange}\n            handleFormSubmit={this.handleFormSubmit}\n          />\n</Container>\n<Container>\n          <table className=\"table table-bordered table-responsive-xl\">\n            <TableHeader onClick={this.onSortChange}></TableHeader>\n            {this.state.results\n              .filter((results) => {\n                if (!this.state.search) {\n                  return results;\n                } else if (\n                  results.name.first\n                    .toLowerCase()\n                    .includes(this.state.search.toLocaleLowerCase()) ||\n                  results.name.last\n                    .toLowerCase()\n                    .includes(this.state.search.toLocaleLowerCase())\n                )\n                  return results;\n              })\n              .sort(sortTypes[currentSort].fn)\n              .map((result) => (\n                <SearchResults\n                  first={result.name.first}\n                  last={result.name.last}\n                  email={result.email}\n                  image={result.picture.large}\n                  phone={result.cell}\n                  dob={result.dob.date.slice(0, 10)}\n                  key={result.login.uuid}\n                />\n              ))}\n        </table>\n        </Container>\n          \n      </div>\n     \n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}